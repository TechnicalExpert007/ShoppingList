import{a as ce}from"./chunk-ALSXPVPL.js";import{$ as j,A as M,B as b,C as g,D as v,E as T,F as D,G as F,H as O,K as P,L as q,M as B,P as V,S as Q,T as N,U as A,W as $,_ as W,aa as H,ba as R,ca as z,da as G,ea as J,f as p,fa as K,g as u,ga as C,ha as U,ia as X,ja as Y,k as a,ka as Z,l as I,ma as ee,n as k,na as te,o as x,oa as ie,p as f,pa as ne,q as y,r as w,ra as oe,s as r,sa as ae,t as l,ta as le,u as _,ua as re,v as S,va as se,w as h,x as c,y as L,z as E}from"./chunk-DU7L5G2L.js";import"./chunk-ZODIKVGI.js";import"./chunk-3WGT43UZ.js";import"./chunk-DGEKCG2T.js";import"./chunk-TJ2WAKTK.js";import"./chunk-F7XBNY6P.js";import"./chunk-ZSXYZYSQ.js";import"./chunk-5MPL5A3U.js";import"./chunk-NKT2XMZU.js";import"./chunk-4U6PRYVA.js";import"./chunk-M7YRDGYE.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{i as d}from"./chunk-OYAVQN5W.js";function me(o,s){if(o&1&&(r(0,"p"),g(1),l()),o&2){let n=c().$implicit;a(),T("Quantity: ",n.quantity,"")}}function de(o,s){if(o&1&&(r(0,"p"),g(1),l()),o&2){let n=c().$implicit;a(),v(n.notes)}}function pe(o,s){if(o&1){let n=S();r(0,"ion-item-sliding",null,0)(2,"ion-item")(3,"ion-checkbox",7),O("ngModelChange",function(e){let i=p(n).$implicit;return F(i.isChecked,e)||(i.isChecked=e),u(e)}),h("ionChange",function(){let e=p(n).$implicit,i=c();return u(i.updateItem(e))}),l(),r(4,"ion-label")(5,"h2"),g(6),l(),x(7,me,2,1,"p",8)(8,de,2,1,"p",8),l()(),r(9,"ion-item-options",9)(10,"ion-item-option",10),h("click",function(){let e=p(n).$implicit,i=b(1);return c().editItem(e),u(i.close())}),_(11,"ion-icon",11),l(),r(12,"ion-item-option",12),h("click",function(){let e=p(n).$implicit,i=b(1);return c().removeItem(e),u(i.close())}),_(13,"ion-icon",13),l()()()}if(o&2){let n=s.$implicit;a(3),D("ngModel",n.isChecked),f("aria-label","Mark "+n.name+" as "+(n.isChecked?"incomplete":"complete")),a(),w("completed",n.isChecked),a(2),v(n.name),a(),y("ngIf",n.quantity&&n.quantity>1),a(),y("ngIf",n.notes),a(2),f("aria-label","Edit "+n.name),a(2),f("aria-label","Delete "+n.name)}}var Se=(()=>{let s=class s{constructor(t,e,i){this.route=t,this.shoppingListService=e,this.alertController=i,ne({trashOutline:se,addOutline:oe,createOutline:le,chevronBackOutline:ae,pencilOutline:re})}ngOnInit(){let t=this.route.snapshot.paramMap.get("id");t&&this.shoppingListService.getLists().subscribe(e=>{this.list=e.find(i=>i.id===t)})}editItem(t){return d(this,null,function*(){yield(yield this.alertController.create({header:"Edit Item",inputs:[{name:"name",type:"text",value:t.name,placeholder:"Item name"},{name:"quantity",type:"number",value:t.quantity||1,placeholder:"Quantity",min:1},{name:"notes",type:"text",value:t.notes||"",placeholder:"Notes (optional)"}],buttons:[{text:"Cancel",role:"cancel"},{text:"Save",handler:i=>{this.list&&i.name&&this.shoppingListService.updateItem(this.list.id,t.id,{name:i.name,quantity:parseInt(i.quantity)||1,notes:i.notes})}}]})).present()})}addItem(){return d(this,null,function*(){yield(yield this.alertController.create({header:"Add Item",inputs:[{name:"name",type:"text",placeholder:"Item name"},{name:"quantity",type:"number",placeholder:"Quantity",min:1,value:1},{name:"notes",type:"text",placeholder:"Notes (optional)"}],buttons:[{text:"Cancel",role:"cancel"},{text:"Add",handler:e=>{this.list&&e.name&&this.shoppingListService.addItem(this.list.id,{name:e.name,quantity:parseInt(e.quantity)||1,notes:e.notes})}}]})).present()})}removeItem(t){return d(this,null,function*(){this.list&&(yield this.shoppingListService.removeItem(this.list.id,t.id))})}updateItem(t){return d(this,null,function*(){this.list&&(yield this.shoppingListService.updateItem(this.list.id,t.id,{isChecked:t.isChecked}))})}trackByFn(t,e){return e.id}ionViewWillLeave(){var t;(t=this.slidingItems)==null||t.forEach(e=>{e.close()})}};s.\u0275fac=function(e){return new(e||s)(I(V),I(ce),I(ee))},s.\u0275cmp=k({type:s,selectors:[["app-list-detail"]],viewQuery:function(e,i){if(e&1&&L(C,5),e&2){let m;E(m=M())&&(i.slidingItems=m)}},decls:12,vars:3,consts:[["slidingItem",""],["slot","start"],["defaultHref","/lists","aria-label","Go back to lists"],[4,"ngFor","ngForOf","ngForTrackBy"],["vertical","bottom","horizontal","end","slot","fixed"],["aria-label","Add new item",3,"click"],["name","add-outline"],["slot","start",3,"ngModelChange","ionChange","ngModel"],[4,"ngIf"],["side","end"],["color","primary",3,"click"],["slot","icon-only","name","pencil-outline"],["color","danger",3,"click"],["slot","icon-only","name","trash-outline"]],template:function(e,i){e&1&&(r(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",1),_(3,"ion-back-button",2),l(),r(4,"ion-title"),g(5),l()()(),r(6,"ion-content")(7,"ion-list"),x(8,pe,14,9,"ion-item-sliding",3),l(),r(9,"ion-fab",4)(10,"ion-fab-button",5),h("click",function(){return i.addItem()}),_(11,"ion-icon",6),l()()()),e&2&&(a(5),v(i.list==null?null:i.list.name),a(3),y("ngForOf",i.list==null?null:i.list.items)("ngForTrackBy",i.trackByFn))},dependencies:[B,P,q,A,Q,N,z,Z,Y,j,X,G,U,ie,W,$,te,C,K,J,H,R],styles:[".completed[_ngcontent-%COMP%]{text-decoration:line-through;opacity:.7}"]});let o=s;return o})();export{Se as ListDetailPage};
